# =============================================================================
# backend/.env.example - Variables de Entorno del Backend
# =============================================================================
# DESARROLLO: Solo copia este archivo → cp .env.example .env
# PRODUCCIÓN: Consulta README.md (raíz) → Sección "Variables de Entorno"
# =============================================================================

# -----------------------------------------------------------------------------
# Base de Datos PostgreSQL
# -----------------------------------------------------------------------------
# Desarrollo: localhost (BD corre en tu máquina o docker-compose.dev.yml)
# Producción: db (nombre del servicio en docker-compose.yml)
DATABASE_URL=postgresql://finanzas:devfinanzas@localhost:5432/finanzas_pro

# -----------------------------------------------------------------------------
# Servidor
# -----------------------------------------------------------------------------
PORT=4000
NODE_ENV=development                             # PROD: production

# -----------------------------------------------------------------------------
# Autenticación JWT
# -----------------------------------------------------------------------------
# DESARROLLO: Este secreto es solo para desarrollo local
# PRODUCCIÓN: Genera uno seguro con: openssl rand -hex 32
JWT_SECRET=dev-jwt-secret-do-not-use-in-production

# -----------------------------------------------------------------------------
# URL de la Aplicación
# -----------------------------------------------------------------------------
# Usado para enlaces en emails (recuperación de contraseña, etc.)
APP_URL=http://localhost:5173                    # PROD: https://tu-dominio.com

# -----------------------------------------------------------------------------
# CORS - Orígenes Permitidos
# -----------------------------------------------------------------------------
# Lista separada por comas de dominios que pueden acceder a la API
ALLOWED_ORIGINS=http://localhost:5173,http://localhost:3000    # PROD: https://tu-dominio.com

# -----------------------------------------------------------------------------
# Seguridad
# -----------------------------------------------------------------------------
# Protección contra fuerza bruta en endpoints de autenticación
RATE_LIMIT_ENABLED=false                         # PROD: true

# Control de registro de nuevos usuarios
REGISTRATION_ENABLED=true                        # PROD: false

# -----------------------------------------------------------------------------
# Cronjobs (tareas programadas)
# -----------------------------------------------------------------------------
# Ejecuta tareas como limpieza de tokens, recordatorios, etc.
ENABLE_CRON_JOBS=false                           # PROD: true

# -----------------------------------------------------------------------------
# SMTP - Correo Electrónico (opcional)
# -----------------------------------------------------------------------------
# Necesario para recuperación de contraseña por email
# Si no está configurado, los enlaces de reset se muestran en los logs

# Gmail (requiere App Password: https://myaccount.google.com/apppasswords)
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_SECURE=false
# SMTP_USER=tu-email@gmail.com
# SMTP_PASS=tu-app-password-de-16-caracteres
# SMTP_FROM=Finanzas Pro <noreply@tu-dominio.com>
