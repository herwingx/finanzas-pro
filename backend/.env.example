# =============================================================================
# Finanzas Pro - Backend Environment Variables
# =============================================================================
# Copia este archivo a .env y configura los valores para tu entorno.
#
# Para desarrollo local: usa 'localhost' como HOST
# Para Docker: usa 'db' como HOST (nombre del servicio)
# =============================================================================

# --- Base de Datos PostgreSQL ---
# Formato: postgresql://<USUARIO>:<CONTRASEÑA>@<HOST>:<PUERTO>/<BASE_DE_DATOS>
DATABASE_URL="postgresql://finanzas:tu_password@localhost:5432/finanzas_pro"

# --- Autenticación JWT ---
# Genera un string aleatorio largo para seguridad
# Puedes usar: openssl rand -hex 32
JWT_SECRET="cambia-esto-por-un-string-aleatorio-largo"

# --- Puerto del servidor ---
PORT=4000

# --- URL de la aplicación ---
# Usado para generar links en emails de recuperación de contraseña
# Desarrollo: http://localhost:5173
# Producción: https://tu-dominio.com
APP_URL="http://localhost:5173"

# =============================================================================
# Configuración de Email (SMTP) - Opcional
# =============================================================================
# Si no se configura, los links de recuperación de contraseña se muestran 
# en los logs del servidor en lugar de enviarse por email.

# SMTP_HOST="smtp.gmail.com"
# SMTP_PORT="587"
# SMTP_SECURE="false"
# SMTP_USER="tu-email@gmail.com"
# SMTP_PASS="tu-app-password"
# SMTP_FROM="Finanzas Pro <noreply@tu-dominio.com>"

# =============================================================================
# Proveedores SMTP Comunes
# =============================================================================
# Gmail:   SMTP_HOST=smtp.gmail.com, SMTP_PORT=587
#          (Requiere App Password: https://myaccount.google.com/apppasswords)
#
# Outlook: SMTP_HOST=smtp-mail.outlook.com, SMTP_PORT=587
#
# Mailgun: SMTP_HOST=smtp.mailgun.org, SMTP_PORT=587

# =============================================================================
# Configuración de Seguridad
# =============================================================================

# --- CORS: Orígenes permitidos ---
# Lista separada por comas de dominios que pueden acceder a la API.
# Déjalo vacío o usa '*' para desarrollo (permite todos los orígenes).
# Ejemplo producción: https://finanzas.tudominio.com,https://tudominio.com
ALLOWED_ORIGINS="*"

# --- Rate Limiting ---
# Protección contra ataques de fuerza bruta en endpoints de autenticación.
# Límites: Login/Register: 5 intentos/15min | Reset: 3 intentos/hora
# Establece en 'false' SOLO para desarrollo/debugging.
RATE_LIMIT_ENABLED="true"

# --- Control de Registro de Usuarios ---
# Establece en 'false' para DESHABILITAR el registro de nuevos usuarios.
# Útil para instalaciones personales donde ya tienes todos los usuarios.
# Los usuarios existentes podrán seguir iniciando sesión normalmente.
REGISTRATION_ENABLED="true"

